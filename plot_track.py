from machine import randomize, Machine, FunctionTable
import random
from nmead import nmead_code
randomize()
from matplotlib import pyplot
import numpy as np

def get_tracks(code, funcindex, steps):
    m = Machine()
    m.set_function(FunctionTable(funcindex))
    m.load_code(code)

    ncalls = []
    registers_with_time=[[] for _ in range(16)]
    fregisters_with_time=[[] for _ in range(16)]
    
    def check_changes(t):
        ncalls.append(m.ncalls)
        for idx, track in enumerate(registers_with_time):
            value = m.get_vec_reg(idx)
            track.append(value)
            
        for idx, track in enumerate(fregisters_with_time):
            value = m.get_float_reg(idx)
            track.append(value)

    for t in range(steps):
        check_changes(t)
        m.step()
    return ncalls, registers_with_time, fregisters_with_time

def plot_tracks(calls, vecs, floats, x0, y0, style=""):

    #pyplot.subplot('121')
    for idx, track in enumerate(vecs):
        xs = [x for (x,_) in track]
        ys = [y for (_,y) in track]
        
        _,r = logtfm(x0,y0,xs,ys)
        pyplot.plot(calls,r,style)
        pyplot.xlabel("$N_{eval}$")
        pyplot.ylabel("$\\log(v-x_0)$")
    #pyplot.subplot('122')
    #for idx, track in enumerate(floats):
    #    pyplot.plot(calls,track,style)
    #    pyplot.xlabel("$N_{eval}$")
    #    pyplot.ylabel("Register value")

        
log10 = np.log(10)
def logtfm(x0,y0,x,y):
    x=np.array(x)-x0
    y=np.array(y)-y0
    return (np.arctan2(x,y)), np.log(x**2+y**2)*0.5/log10

if __name__=="__main__":
    opt_nmead = b'\x83y\x04}\x83\xf2\xf1\xee\xae\xed\xd1=-\xcaD\xfb>\xda\xa2\x9ab7\xdf\xe1\xe0Y}\xd8m\x83\x02\xa2\xb0\xb4\xf8\xbb\x7f`0\x0e\xb1#}\xdd&\xcf\x1c\x97\x1e\x12\xe8[\x06`\x92+4DH\xabi\x02\x9b.\x1ebo\x12\x1d\xeem\xfe\x02 \xfc\xf5c\xf1\x9eF\x81R\xf8E8c\xf4\xf1\xcd\xc2\x91B\x1b\xe68\x02w\xc5\x86\x91\x9e\x0e\x04\xb4t\x8e\x81\xc2`#\xb1\xa58\xcb\xd8\xd8\x04\xb4\x95\x8ev\xc2`\x16\n\x05\x02\x02\x04\x17\n\x01\x03n\x10\x04\x02\x06\x02\x16\n\x02\x02\x11\x1e\x17\n\x01\x00\x08\x10\x04\x01\x02\x01\x01\x00\x04\x02\x02\x02\x11E\x91\x9e\x0e\x04\xb4t\x8e\x02\xc2`#\xb1\xe68\xcb\xd8\xd8\x04\xb4\x95\x8ev\xc2`#\xb1"8\x83y\x04}\x83\xf2\xf1\xcd\xc2qB\xf0\xe68\x02w\xc5\x86\xe6\x02E8c\xf4\xf1\xcd\xc2\x91B\xf0\xe68\x02\xf5c\xf1\x9eF\x81R\xf8E8c\xf4\xf1\xcd\xc2\x91B\xf0\xe68\x02w\xc5\x86\x91\x9e\x0e\x04\xb4t\x8e\x81\xc2`#\xb1\xe68\xcb\xd8\xd8\x04\xb4\x95\x8ev\xc2`#\xb1"8\xdcy\x04}\x83\xf2\xf1\xcd\xc2qB\xf0\xe68\x02w\xc5\x86\x91\x02w\x02\x9b.\x1e#\xb1\xe68\xfb#\xb1r8\xcb\xd8\x04\xb4\x95\x8e\xe8\xc2\xb3\xbbw\xc5\x86\x91\x02w6\x9b.`0\x0e\xb1#}\xdd&\xcf\x1c\xd8\xd8\x04\xb4\x95\x08v\xc2`#\xb1"8\x83y\x04}\x83\xf2>\xcd\xc2qB\xf0\xe68\x02w\xc5\x86\x91\x02w\x02\x9b.\x1e#\xb1\xe68\xfb#\xb1r8\xfe\x02 l\xf5\x95\x8ev\xc2`#\xb1\xe68\x83\x83\xe8\xf8\xf4\xf1\xcd\xc2\x91B\xf0\x9a8\x02w\xc5\x86\x91\x9e\x0e}\xb4t\x8e\x81\xc2`#\xb1\xe68\xfb>\xda\xf5ct\x04\xb4\x95'    
    opt_nmead1= b'\x17\x1e\xceP\x94\x02\x17\x1d\x1a\x00\x06\x02M\x8eM\x04FX\x05\x02\xb7\x9b\x02\x002\n\x17\n\x01\x01\x05\x02\x02\x01p,\xf9\xfe\xd0qe\xc0\xa5\x00!\x11\x04\x01\x02s\x98&\x08@xs\xe0&\x08@\x04\x02(\x00\x1f\x00\x024\x16\n\xc5\x8a\x16\n\xc4\x8a\x04s\x06\x04\xacj\xf8\x9a\x1b\xa6\x024\xf8\n\x01\x04\x06\xa1\x16\xcd\x1b\x12\xd6\xb6^\xbd\x17\xb62\xbd\x17\xe8\x06\xb2\x16\n\x05\x02\x177\x17\n\x08\x13\x1d \n\x05\x02>\x02\x99\x08\x10\x04\x10\x04\x02\x06\x02\x16\xdd\x98\xd2\xbdg\x18\xc7^\xbd\x02\x99\x08\x08\x10\x04\x10\x04\x02\x06\x02\x16\xddf\xaau\x04\x02\x06\x02\x16\xdd\x1b\xcb\xbdg\x18\xc7^\xdd\x1b\x04\x10\x04\x02\x06\x02\x16\xdd\x1b\xaau\x04\x02\x06\x02\x16\xdd\x1b\xd2\xbdg\x18\xc7^\xdd\x1b\xd2\xbdg\x18\xc7^\xbd\x04\x02\x06\x16u\xba{\xf9\x02\x00\x11\x04\x9a\x1by\x024\xf8\n\x06\x02\x16\xdd\x1b\xaa\x02\x002\n\x17\n\x01\x01\x05\x02\x02\x01p,\xf9\xfe\xd0qe\xc0\xa5\x00!\x11\x04\x01\x04s\x06\x04\xacj\xf8\x9a\x1b\x13\x1d \n\x05\x02>\x02\x99\x08\x10\x04\x10\x04\x02\x06\x02\x16\xdd\x98\xd2\xbdg\x18\xc7^\xbd\x02\x99\x08\x08\x10\x04\x10\x04\x02\x06\x02\x16\xddf\xaau\x04\x02\x06\x02\x16\xdd\x1b\xcb\xbdg\x18\xc7^\xdd\x1b\xd2\xbdg\x18\xc7^\xbd\x04\x02\x06\x19u\xba{\xf9\x02\xbd\x04\x10\x04\x02\x06\x02\x16\xdd\x1b\xd2\xbdg\x18\xc7^\xbd\x02\x99\x19\x08\x10\x04\x10\x04\x02\x06\x02\x16\xdd\x1b\xaau\x04\x02\x06\x02\x16\xdd\x1b\xd2\xbdg\x18\xc7^\xee\x1b\xb4\x04\x02\x06\x02\x16\xdd\x1b\xd2\xbdg\x18\xd0^\xdd\x1b\xd2\xbdg\x18\xc7^\xbd\x04\x02\x06\x16u\xba{\xf9\x02\x00\x15\x04\t\x16\xdd\x1b\xd2\xbdg\x18\xc7^\xbd\x02\x99\x08\x08\x10\x04\x10\x04\x02\x06\x02\x16\xdd\x1b\x04\x10\x04\x02\x06\x02\x16\xdd\x1b\xd2\xbdg\x18\xc7\x04\x06\xa1\x16\xcdFX\x05\x02[\x9b\x02\x00'
    bestnatural1 = b'g\x804\xcd}\x804\xcdE \xf5\x8d~4M\x82\xa3\xd7\xc3 \xa3\xcbHH\xdfq\xe8\xb8l\xad&\x89l\xad&\xb8l\x89\x96\\G\xedf\x0c\xd3O\x88v\x0cvPhf0\xc6 f0\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x99F\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaaQ\x91J\xed\xd7nFF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc0 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x990\xc6 FF\xe6\xaa\x99\xcd$\xd18h\x8a\x82\xa9\xaa\xef\x8bO\xf8\x1f\xa0\x13Q\xc3\x83\xac\x86\xc3\x82\xdfq\x05D\xfb\x8dF\xe6~HR\x82\xdfq\x05D\xfb\x8dF\xe6~H\xdfq\x05\xc6l\x18\x96\\G\xa3\x8d\x80\xa3\xa3\x8d~\xbf>\x8d\xa3\x82\xbf\x80R\x82\xbf\x80\xa3\x80l\x80\xa3\x80l\x8d~\x80\xa3\xb8R,\xbf\x82l\x11\xfe\x82\xbf\x80\x8b\x80l\x8d~\x80\xa3\xb8R,\xbf\x8d\xfe\x82l\x8d~\x80f\xbc\xa3\x82l\x11\xfe\x82l\x8d\xfe\x82l\x8d~\x80f\xbc\xa3\x82l\x11\xfe\x82l\x8d\xfe\x82l\xf2O\x82l\x8dM\\\xdf\xe2\xb8l\xad&l\x8dUv\x0cX^\xc6Uz\x8c\xd7\xf4\x1e}\x05\x02h\xfd\x05\x02h\xfdv\x0cX8bP\xa9Uv\x0cX^\xc6UV\xfdv\x0cX8bP\xa9Uv\x0cV\xfdb\xfd\x0cX8$wx\x83kb\r!\xedf\xeb\xea[\\(fO\x88v\x0ch\xfdv\\8\xa9vI\xa9f\x92\xca\xa9f\x92\xcaO\x88h\xfdv\x0chMl\xb8l\xfdvPhf0\xc6 FF'
    bestnatural=b'/\xc3\xc6\x15\x1b\x81\x05p+b|i\t\xcc\x97\t\t\x85^\x04\t\x02\x06$u!I3\x9a\xd8\x82\x04\x04\xd7\x04\xd7\xbd,\xd7\x04,\xd7\xc2\xa3\t\x04\x04\x8b\xe8\x81\xd9,\x04\x04\t\x15\x04T\xd7\xd7\ti\x1d\xd9\x04,\x83\xcc\xbb[,\x04,,\x04\x04\t\x15\x04\xb9\xe0\xd9\x04\xed\xb3,\x04hn\xb6,\x04,\xd7\x04\xd7,\xd7\x04\xd7\t\xd7,\x04,,\xf3N\xd7\xd7,\xd7,\x04,\x04\t\xd4\xa8\x04\x04\t\xd7,\x04\t\x97\xd7\xd4\xa8\x04\x04\x8d\x9a\t\xd7\xd7,\x04\t\x04\xd7,\xd7\xd7,\x04\t\xd7,\xb4\x04\x04\t\x04\xd7,\xd7\xd7,\x04\t\xd7,\xb4\x04\x04\t\x04\xd7,\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\x04\t\xd7\xd7,\x04\t\x04\x04\t\xd7\xd7,\x04\t\x97\x04\t\xd7\xd7,\x04\t\x97\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\xd4,\x04\t\x97~,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\t\x97\xd7\xd7\t\x97\xd7\xf6\x04\x04\x04\t\x97\xd7\x04\x04\t\x97\xd7\xd7\t\x97\xd7\xf6\x04\x04\t\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\x04\t\xd7\xd7,\x04\t\x97\xd7\x04,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04a\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,I\x05\x04\x04\x9c\xd7\xd7,I\x05\x04\x04\xd7,\x04\t\x97,\x04\t\x97\xd7\x10\x04\t\xd7\xd7,\x04\x04\t\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\xd7,\x04\t\t\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\xd7,\x04\t\x97\xd7\x04\x04\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x93\x04\t\xd7\xd7,\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\xd7\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x8cv\x97\xd7\x04\x04\t\xd7\x04\x04\t\xd7\xd7,\x04\t\x8cv\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\xd7\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\x04\t\xa9\xce\x98\x81\xfb\x84\x04w\x1e\x14J\x9e\xfb\x84\x1e\x81\xfb\x84\xb5q\x8cv\xba\x1e\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x04\t\x97\xd7\x04\x04\x04\t\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x97\xd7\x04\x04\t\x97\t\xd7\xd7,\x04\t\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\x04\x97\xd7\x04\x04\t\xd7\xd7,\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\xd7\xd7,\x04\t\x97\xd7\xd7,\xbf\x04\x97\xd7\x04\x04\t\xd7\x04\t\x97\xd7w\x04\t\xd7\xd7,\x04\tt\x05\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\x04\x96\t\xd7\xd7,\x04\xd7\x04\x04\t\xd7\x04\x96\t\xd7\xd7,\x04\t\x97\xd7\x04\x96\t\xd7\xd7,\x04\t\x97\xd7\x04\x96\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\x8a\xcfb\x81\x83,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04*\xd7\x04\x9b.\xd7\xd7,w\xd0w\xd7,\x04\xd7,w\x04\xd7,\x04\t\xd7\xd7,\x04\xd7,\x04\t\xd7,w\x04\xd7,\x04\t\xd7\xd7,\x04\xd7,\x04\t\xd7\xd7,\x04\t\x97\xd7\x97\xd7\x04\x96\t\xd7\xd7,\x04\xd7,\x04\t\xd7,w\x04\xd7,\x04\t\xd7\xd7,\x04\xd7,\x04\t\xd7\xd7,\x04\t\x97\xd7\x97\xd7,\x04\t\xd7\xd7,\x04\xd7,\x04\t\xd7\xd7,\x04\t\x97\xd7\x97\xd7\x04\x96\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\x04\t\xd7\xd7,\x04\t\x97\x04\t\xd7\xd7,\x04\t\x04\x04\t\xd7\x04\x04X\x90\xcd\t\xd7\xd7,\x04\t\x04\x04\t\xd7\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\xd7\x04\x04\t\xd7\xd7\xd7\x04\xd7\x04\x04\t\xd7\xd7,\t\x97\xd7\x04\x04\xd7\x04\x04\t\xd7\xd7\xd7\x04\xd7\x04\x04\t\xd7\xd7,\t\x97\xd7\x04\x04\xd7\x04\x04\t\xd7\xd7\xd7\x04\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\xa4\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7\xd7\x04\x04\t\xd7\xd7,\x04\t+\x97\xd7\x04\x04\t\xd7\xd7\xd7\x04\x04\t\xd7\xd7,\x04\t\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\xba\xd4\xd7\t\x97\xd7\x04\x04\t\xd7\xd7\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x02_1\x04\x04\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\x03g\xd7\x04\x04\t\xd7\xd7\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\x03g\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97Q2\x1e\xbf]\xd7\x04\x04\t\xd7\xd7,\xd3\x04\t\x97\xd7\x04\x04\xd7\xd7\xd7\xd7H\x01\xd7\xd7,\x97\xd7\xd7,\x04\x04\x04\t\x97\xd7\x04\x04\x97\xd7\x04+d\t\x97\x04T\x04\xd7\x04\x04\t\xd7\xd7,\x04\x04\x04\tL4[}--[}f-\r\xd7\t\x97\x04\x04\x04\tL44vD\x16\xcc\x83\xcc\xbb[\xd7\xd7,\x04\t\x97\x04\tL44vD\x16\xcc\x83\xcc\xbb[\xd7\xd7,\x04\t\x97\x04\x04\x0f=4\xa8A[\xd7\xd7,\x04\t\x97\x04\x04\tL4\xa8A[\xd7\xd7,\x04\t\x97\x04\x04\tL4\xa8A[\xd7\xd7,\x04\tx\x04\x04\t\x93\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\xd7\xd7,\x04\t\x97\xd7\x04\x04\t\xd7\xd7,\x04\t\x97\xd7\x04\x04I\x12\t\x04\t*\xd7\x04,\x04\t\x98~2,\xd7\x83\xa3\xd7\xd7\x04C\xd7,\x04T\x04C\x04\xd7,\xd7\xd7,\x04\t\x97\t\t\xd7\xd7,\x04\t\x97\t\t\xd7\xd7,\t\x97\t\xb2;\x04\xbc,\x98,,,\xd7,\xd7\xd7,\xd7\x04\xd7\xc8#\xef\xd7,\xd7\x04\xd7\xd7,\x04\xd7,d,\xd7\x04\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7\xd7,\x04\xd7,\xd7\x04\xd7\xd7,\x04\t\x97\t\t\xd7\xd7\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7,\xd7,\xd7,\xd7,\xd7\x04\xd7\xd7\xd7,\xd7,\xd7\x04\xd7\xd7,\x04\t\x97\t\t\xd7\xd7\xd7,\xd7\x04\xd7,\xd7\x04\xd7,\xd7,\xd7\x04\xd7\xd7,\x04\t\x97\t\t\xd7\xd7\xd7,\xd7\x04\xd7\x04\xd7\x04\x0cw\xd7\x04w\xd0w\xd7,\x04\xd7,w\x04\xd7\xd7,\xd7e/\xd7\x04\x0cw\xd7\x04/w\xd7,,,\xd7\x04/\xd7\x04\x04,\x04w\xd0w\xd7\x04/,\x04w\xd0w\xd7,\x04\t\xd7\x04/\x04w\xd7/,\x04\x04\x04\x04\x8b\xe8)\x04\x84\x1e\x14\x04\xd0\x04h\xb5\xa9\x8b\xe8\xc8\x81h,\x04\x81h,\x04\x8bh,\x04\x81h,\x04\x8bh,\x04\x8b\xe8,\x04\x8b\x04\xd0\xc8\x81\x9aQ,\xd7\x9aQ,\xd7,\xd7\xd7\xe7\x9aQ,\xd7\x04\xd7,\xd7\x04\xd7\xbf\xd7\x04\xd7,\x04\x04\xd7,\xd7\x04\xd7,\xd7\x97,\xd7\x04\xd7,,\x04\xd7,\xd7\x04\xd7,\xd7\x04\xd7,\xd7\x04\xd7,\xd7\x04\xd7,\xd7\x04\xd7,\xd7\x04\xd7\t\xff\x04\xd7,\xd7\x04,\xdfp:\xcc\xfbp:\xcc\xfbp\xfbL\xfbp:\xcc\xfbp\xfbL\xfbp\xfc\x04V\xe2\xfa/\xcdJ\xe7\n\xdc\x04\xe4A\x1dJ\xe7\n\xdc\x04\x1d@\xadI\x05\x1dVJ?\xd0\xec\x04<\x85\x1dJ\xe7\n\xdc\x04\xe7\n\xdc\x04\x1d\xca\xe7\x7f\x94\xca\xe7\x7f\x94C\x94]\x94&\xdc@Z\xb6\x82\x0fbC\x91\xa5\x85\x16\xcc@\x9a\x83\xcc\xca\x82\x16\xcc\xa1\xcc\x16\xcc,\x04\x1f\xcc\xa1\xcc\x16\xcc,\x04\x1f\xcc\xa1\xcc\xa5\x82\x8a\x0f\xca\x82\xb6\x82\x0f\x04\x16\xcc\x0f\x04\x16\xcc\x83\xcc,\x04\x16\xcc\x83\xcc\xbb\x1d\xa1\xcc\xa5C\x91'
    natural = b'&\xc8J\t\x83\xd7[\xdc\xb0\x1f\x01x\x05\xad\xb7\xca\t\x95_\x07\xea\xc2\xce\x90\xaeFVz\xf0+\xed\xc2\xcfFN(\xc2`\x05\x84\xaf\xaf\xa6:\xe6&\x89\xbfi\xcfQ\xa9\xa4\x90\x87\x8b\xa4\x90\x87\x8b\xc0,R\xcf\xc2\x99\xaf\x9b\x91\xaf/\xd4^\xc7Y\xd8c\xc7Y\xd8cxq\xee\x93\xf0B^\'\x99\x02\x03E\xb9\x7f\x91-\xe6\x17\x9dF\xf3\xe2\xed\xae\xa2O\x97\xc3$\xb5\xe5A@P\n\x95O\xaa\xbd\xbe\x86da\xf4\xbc\x07\x9b\x1d\x9c\xd2\x16\x16\xfc\xcd\x16\x16\xfc\xcd.\x11\xbeG\xcak\xd5yN\n\x0b\xb3\x9f\xd0I\x81S!I\xd3$\x93Hmo\x8f\xbb>&\xfa\xee\xe3I\xb6\xe5\xc2\x8e\xb6\xe5\xc2\x8e\x1a\x10}\\\xfd\x05\x1b\xef\x9e\xe7\xc6\xb5\xa8\x0f\xddb\xef\'\xc5n\xb8\x91V\xf9d4Nn\xb8q\xcbN\xb2[b^\xf9k%\xb5^\x91V\xf9d\xcbNn\xb8q\xcbN\xb2[b^\xf9k%\xb5^\xf3tk%\xb5\x94k\xb5\xb7\xac\xf0\xd1\xb5\x94\xebZA"\xbb\xe8}\xb1yb^\xf9k\xb5\xb7\xac\xf0\xd1\xe5\xac\xf0\xd1\xe5}w\xcfL\x1b0\xd4owRM\xb5&T\xf7\x12\xae\x1bm\x12\xae\x1bm\xed\xd1\xca\xfb\xdd\x8b\x82m\xe0\x8e\xca\xfb\xdd\x8b\x82m\xe0\x8e\x99\xa6\x99\xae\x1bm\xdd\x8b\x82m\xe0\x8b\x82\xfb\xdd\x8b\x82m\xe0\x8e\x99\xa6\x99\xae\x1bm\xdd\x8b\x82m\xe0\x8b\x82E\xc2z\xacU8\x01=\xe9\xb8+-\t1\x0e\xbc\x0b\xec\x89\xb1\xed\x04\x17\x95o\x95o\xd8\x9e\x8fZ\xca\x89\xce"\xda%\x11\xf4\x84\xbf\'q\xacsw\xcfL\x1b0\xd4owR\xd3M\xb5\xbf\'3\tsw3\ts\'3\tsw3\tswRE\xb9\x7f\x91\x1bm-\xe6\x17\x9dF\xf3\xe2\xed\xae\xa2O\xf9\'\x97\xa9t\xce\xa4\x90\x87\x8b\xc0,R\xcf2\xfd\xc83\xff\xe6\xf9@3=\xea\x15 v\xb5\xc1Y\xea\xa8v\xb5\xc1YbP'
    if True:
        calls, vecs, floats  = get_tracks(nmead_code, 0, 5000)
        plot_tracks(calls, vecs[0:1], floats,
                    1.0, 1.0,
                    style="k-"
        )
        calls, vecs, floats = get_tracks(bestnatural1, 0, 15000)
        plot_tracks(calls, vecs[0:1], floats,
                    1.0, 1.0,
                    style="k-"
        )
    if False:
        calls, vecs, floats = get_tracks(bestnatural1, 0, 15000)
        plot_tracks(calls, vecs, floats,
                    1.0, 1.0,
                    style=""
        )
    pyplot.legend()
    pyplot.show()

def doplot(code, nfunc, x0, y0, steps):
    calls, vecs, floats = get_tracks(code, nfunc, steps)
    plot_tracks(calls, vecs, floats,
                x0, y0,
                style=""
    )
    
